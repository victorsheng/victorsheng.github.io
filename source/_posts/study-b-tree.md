title: study-b-tree
tags: []
categories: []
date: 2018-01-05 11:16:00
---
# b-树
- 数据库索引使用b-树
- 二叉树查找的时间复杂度O(logN)
- 问题:磁盘IO
- 最坏的情况下,磁盘IO等于索引树的高度
- 把原来"瘦高"的树结构变得"矮胖"就是b-树的特征之一
- B树是一种多路平衡查找树


# 特征
- 下面来具体介绍一下B-树（Balance Tree），一个m阶的B树具有如下几个特征：
- 1.根结点至少有两个子女。
- 2.每个中间节点都包含k-1个元素和k个孩子，其中 m/2 <= k <= m
- 3.每一个叶子节点都包含k-1个元素，其中 m/2 <= k <= m
- 4.所有的叶子结点都位于同一层。
- 5.每个节点中的元素从小到大排列，节点当中k-1个元素正好是k个孩子包含的元素的值域分划。

# 应用
- 文件系统
- 数据库索引


# b+树
- 1.有k个子树的中间节点包含有k个元素（B树中是k-1个元素），每个元素不保存数据，只用来索引，所有数据都保存在叶子节点。
- 2.所有的叶子结点中包含了全部元素的信息，及指向含这些元素记录的指针，且叶子结点本身依关键字的大小自小而大顺序链接。
- 3.所有的中间节点元素都同时存在于子节点，在子节点元素中是最大（或最小）元素。
- b+树种,只有叶子节点带有卫星信息,其余中间节点仅仅是索引,没有任何数据关联
- 在数据库的聚集索引（Clustered Index）中，叶子节点直接包含卫星数据。在非聚集索引（NonClustered Index）中，叶子节点带有指向卫星数据的指针。

# B+树的优势：
1.单一节点存储更多的元素，使得查询的IO次数更少。
2.所有查询都要查找到叶子节点，查询性能稳定。
3.所有叶子节点形成有序链表，便于范围查询。


https://github.com/julycoding/The-Art-Of-Programming-By-July/blob/master/ebook/zh/03.02.md