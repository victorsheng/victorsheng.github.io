---
title: RESTful-API概念学习
tags:
  - HTTP协议
  - RESTful
categories:
  - HTTP协议
abbrlink: 2994087375
date: 2018-01-15 20:13:15
---
# RESTful API
- 透明性，暴露资源存在。
- 充分利用 HTTP 协议本身语义。
- 无状态，这点非常重要。在调用一个接口（访问、操作资源）的时候，可以不用考虑上下文，不用考虑当前状态，极大的降低了复杂度
- HTTP 本身提供了丰富的内容协商手段，无论是缓存，还是资源修改的乐观并发控制，都可以以业务无关的中间件来实现


# 理解RESTful架构
- Representational State Transfer
- REST的名称"表现层状态转化"中，省略了主语。"表现层"其实指的是"资源"（Resources）的"表现层"。
所谓"资源"，就是网络上的一个实体，或者说是网络上的一个具体信息。它可以是一段文本、一张图片、一首歌曲、一种服务，总之就是一个具体的实在。你可以用一个URI（统一资源定位符）指向它，每种资源对应一个特定的URI。要获取这个资源，访问它的URI就可以，因此URI就成了每一个资源的地址或独一无二的识别符。

所谓"上网"，就是与互联网上一系列的"资源"互动，调用它的URI。

互联网通信协议HTTP协议，是一个无状态协议。这意味着，所有的状态都保存在服务器端。因此，如果客户端想要操作服务器，必须通过某种手段，让服务器端发生"状态转化"（State Transfer）。而这种转化是建立在表现层之上的，所以就是"表现层状态转化"。


最常见的一种设计错误，就是URI包含动词。因为"资源"表示一种实体，所以应该是名词，URI不应该有动词，动词应该放在HTTP协议中。

因为不同的版本，可以理解成同一种资源的不同表现形式，所以应该采用同一个URI。版本号可以在HTTP请求头信息的Accept字段中进行区分
http://www.ruanyifeng.com/blog/2011/09/restful.html

# RESTful API 设计指南
- 协议
- 域名
- 版本（Versioning）
- 路径（Endpoint）
在RESTful架构中，每个网址代表一种资源（resource），所以网址中不能有动词，只能有名词，而且所用的名词往往与数据库的表格名对应。一般来说，数据库中的表都是同种记录的"集合"（collection），所以API中的名词也应该使用复数。
- HTTP动词
- 过滤信息（Filtering）
- 状态码（Status Codes）
- 错误处理
- 返回结果
- Hypermedia API
RESTful API最好做到Hypermedia，即返回结果中提供链接，连向其他API方法，使得用户不查文档，也知道下一步应该做什么。
- 其他
 + （1）API的身份认证应该使用OAuth 2.0框架。
 + （2）服务器返回的数据格式，应该尽量使用JSON，避免使用XML。


http://www.ruanyifeng.com/blog/2014/05/restful_api.html