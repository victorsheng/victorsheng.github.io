<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="victor的个人博客,作为一枚后端开发工程师,写本博客目的,旨在记录自己在工作生活中的点点滴滴,形成自己的知识体系">
<meta property="og:type" content="website">
<meta property="og:title" content="Victor的博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Victor的博客">
<meta property="og:description" content="victor的个人博客,作为一枚后端开发工程师,写本博客目的,旨在记录自己在工作生活中的点点滴滴,形成自己的知识体系">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Victor的博客">
<meta name="twitter:description" content="victor的个人博客,作为一枚后端开发工程师,写本博客目的,旨在记录自己在工作生活中的点点滴滴,形成自己的知识体系">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>Victor的博客</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?e6ec2c9b3e1b5d7f223d40c9c7a9efe1";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Victor的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-schedule">
          <a href="/schedule/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-calendar"></i> <br />
            
            日程表
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            站点地图
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/05/java-file-linux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Victor">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Victor的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/05/java-file-linux/" itemprop="url">通过lsof命令观察,java文件不关闭的情况</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-05T20:16:42+08:00">
                2018-07-05
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/07/05/java-file-linux/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/07/05/java-file-linux/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/07/05/java-file-linux/" class="leancloud_visitors" data-flag-title="通过lsof命令观察,java文件不关闭的情况">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">public class FileHandleLeakExample &#123;</span><br><span class="line"></span><br><span class="line">  public static String readContentFromFile(String filename) &#123;</span><br><span class="line"></span><br><span class="line">    StringBuilder sb = new StringBuilder();</span><br><span class="line">    BufferedReader br = null;</span><br><span class="line">    try &#123;</span><br><span class="line">      br = new BufferedReader(new FileReader(filename));</span><br><span class="line">      String line = null;</span><br><span class="line">      while ((line = br.readLine()) != null) &#123;</span><br><span class="line">        sb.append(line).append(&quot;\n&quot;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; catch (Exception e) &#123;</span><br><span class="line">      System.err.println(e.getMessage());</span><br><span class="line">      exit(1);</span><br><span class="line">    &#125; finally &#123;</span><br><span class="line">//          模拟疏忽关掉句柄的操作</span><br><span class="line">//            try &#123;</span><br><span class="line">//                br.close();</span><br><span class="line">//            &#125; catch (IOException e) &#123;</span><br><span class="line">//                e.printStackTrace();</span><br><span class="line">//            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return sb.toString();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  public static void main(String[] args) &#123;</span><br><span class="line">    for (int j = 0; j &lt; 20; j++) &#123;</span><br><span class="line">      System.out.println(j++);</span><br><span class="line">      FileHandleLeakExample.readContentFromFile(&quot;/Users/victor/tmp/qingshu.txt&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(&quot;byte&quot;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>在System.out.println(“byte”); 打断点</li>
<li>通过jps</li>
<li>lsof -p pid 观察</li>
</ul>
<p><img src="/images/pasted-206.png" alt="upload successful"></p>
<h1 id="lsof命令"><a href="#lsof命令" class="headerlink" title="lsof命令"></a>lsof命令</h1><p>lsof（list open files）是一个列出当前系统打开文件的工具。在linux环境下，任何事物都以文件的形式存在，通过文件不仅仅可以访问常规数据，还可以访问网络连接和硬件。所以如传输控制协议 (TCP) 和用户数据报协议 (UDP) 套接字等，系统在后台都为该应用程序分配了一个文件描述符，无论这个文件的本质如何，该文件描述符为应用程序与基础操作系统之间的交互提供了通用接口。因为应用程序打开文件的描述符列表提供了大量关于这个应用程序本身的信息，因此通过lsof工具能够查看这个列表对系统监测以及排错将是很有帮助的。</p>
<h2 id="lsof打开的文件可以是："><a href="#lsof打开的文件可以是：" class="headerlink" title="lsof打开的文件可以是："></a>lsof打开的文件可以是：</h2><p>1.普通文件<br>2.目录<br>3.网络文件系统的文件<br>4.字符或设备文件<br>5.(函数)共享库<br>6.管道，命名管道<br>7.符号链接<br>8.网络文件（例如：NFS file、网络socket，unix域名socket）<br>9.还有其它类型的文件，等等</p>
<h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><p>lsof abc.txt 显示开启文件abc.txt的进程<br>lsof -c abc 显示abc进程现在打开的文件<br>lsof -c -p 1234 列出进程号为1234的进程所打开的文件<br>lsof -g gid 显示归属gid的进程情况<br>lsof +d /usr/local/ 显示目录下被进程开启的文件<br>lsof +D /usr/local/ 同上，但是会搜索目录下的目录，时间较长<br>lsof -d 4 显示使用fd为4的进程<br>lsof -i 用以显示符合条件的进程情况<br>lsof -i[46] [protocol][@hostname|hostaddr][:service|port]<br>  46 –&gt; IPv4 or IPv6<br>  protocol –&gt; TCP or UDP<br>  hostname –&gt; Internet host name<br>  hostaddr –&gt; IPv4地址<br>  service –&gt; /etc/service中的 service name (可以不止一个)<br>  port –&gt; 端口号 (可以不止一个)</p>
<h2 id="说明："><a href="#说明：" class="headerlink" title="说明："></a>说明：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">lsof输出各列信息的意义如下：</span><br><span class="line"></span><br><span class="line">COMMAND：进程的名称</span><br><span class="line"></span><br><span class="line">PID：进程标识符</span><br><span class="line"></span><br><span class="line">PPID：父进程标识符（需要指定-R参数）</span><br><span class="line"></span><br><span class="line">USER：进程所有者</span><br><span class="line"></span><br><span class="line">PGID：进程所属组</span><br><span class="line"></span><br><span class="line">FD：文件描述符，应用程序通过文件描述符识别该文件。如cwd、txt等</span><br><span class="line"></span><br><span class="line">（1）cwd：表示current work dirctory，即：应用程序的当前工作目录，这是该应用程序启动的目录，除非它本身对这个目录进行更改</span><br><span class="line">（2）txt ：该类型的文件是程序代码，如应用程序二进制文件本身或共享库，如上列表中显示的 /sbin/init 程序</span><br><span class="line">（3）lnn：library references (AIX);</span><br><span class="line">（4）er：FD information error (see NAME column);</span><br><span class="line">（5）jld：jail directory (FreeBSD);</span><br><span class="line">（6）ltx：shared library text (code and data);</span><br><span class="line">（7）mxx ：hex memory-mapped type number xx.</span><br><span class="line">（8）m86：DOS Merge mapped file;</span><br><span class="line">（9）mem：memory-mapped file;</span><br><span class="line">（10）mmap：memory-mapped device;</span><br><span class="line">（11）pd：parent directory;</span><br><span class="line">（12）rtd：root directory;</span><br><span class="line">（13）tr：kernel trace file (OpenBSD);</span><br><span class="line">（14）v86  VP/ix mapped file;</span><br><span class="line">（15）0：表示标准输出</span><br><span class="line">（16）1：表示标准输入</span><br><span class="line">（17）2：表示标准错误</span><br><span class="line"></span><br><span class="line">一般在标准输出、标准错误、标准输入后还跟着文件状态模式：r、w、u等</span><br><span class="line"></span><br><span class="line">（1）u：表示该文件被打开并处于读取/写入模式</span><br><span class="line">（2）r：表示该文件被打开并处于只读模式</span><br><span class="line">（3）w：表示该文件被打开并处于</span><br><span class="line">（4）空格：表示该文件的状态模式为unknow，且没有锁定</span><br><span class="line">（5）-：表示该文件的状态模式为unknow，且被锁定</span><br><span class="line"></span><br><span class="line">同时在文件状态模式后面，还跟着相关的锁</span><br><span class="line"></span><br><span class="line">（1）N：for a Solaris NFS lock of unknown type;</span><br><span class="line">（2）r：for read lock on part of the file;</span><br><span class="line">（3）R：for a read lock on the entire file;</span><br><span class="line">（4）w：for a write lock on part of the file;（文件的部分写锁）</span><br><span class="line">（5）W：for a write lock on the entire file;（整个文件的写锁）</span><br><span class="line">（6）u：for a read and write lock of any length;</span><br><span class="line">（7）U：for a lock of unknown type;</span><br><span class="line">（8）x：for an SCO OpenServer Xenix lock on part      of the file;</span><br><span class="line">（9）X：for an SCO OpenServer Xenix lock on the      entire file;</span><br><span class="line">（10）space：if there is no lock.</span><br><span class="line"></span><br><span class="line">TYPE：文件类型，如DIR、REG等，常见的文件类型</span><br><span class="line"></span><br><span class="line">（1）DIR：表示目录</span><br><span class="line">（2）CHR：表示字符类型</span><br><span class="line">（3）BLK：块设备类型</span><br><span class="line">（4）UNIX： UNIX 域套接字</span><br><span class="line">（5）FIFO：先进先出 (FIFO) 队列</span><br><span class="line">（6）IPv4：网际协议 (IP) 套接字</span><br><span class="line"></span><br><span class="line">DEVICE：指定磁盘的名称</span><br><span class="line"></span><br><span class="line">SIZE：文件的大小</span><br><span class="line"></span><br><span class="line">NODE：索引节点（文件在磁盘上的标识）</span><br><span class="line"></span><br><span class="line">NAME：打开文件的确切名称</span><br></pre></td></tr></table></figure>
<h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><h3 id="查找谁在使用文件系统"><a href="#查找谁在使用文件系统" class="headerlink" title="查找谁在使用文件系统"></a>查找谁在使用文件系统</h3><p>在卸载文件系统时，如果该文件系统中有任何打开的文件，操作通常将会失败。那么通过lsof可以找出那些进程在使用当前要卸载的文件系统，如下：<br> lsof /GTES11/<br>COMMAND PID USER FD TYPE DEVICE SIZE NODE NAME<br>bash 4208 root cwd DIR 3,1 4096 2 /GTES11/<br>vim 4230 root cwd DIR 3,1 4096 2 /GTES11/<br>在这个示例中，用户root正在其/GTES11目录中进行一些操作。一个 bash是实例正在运行，并且它当前的目录为/GTES11，另一个则显示的是vim正在编辑/GTES11下的文件。要成功地卸载/GTES11，应该在通知用户以确保情况正常之后，中止这些进程。 这个示例说明了应用程序的当前工作目录非常重要，因为它仍保持着文件资源，并且可以防止文件系统被卸载。这就是为什么大部分守护进程（后台进程）将它们的目录更改为根目录、或服务特定的目录（如 sendmail 示例中的 /var/spool/mqueue）的原因，以避免该守护进程阻止卸载不相关的文件系统。</p>
<h3 id="恢复删除的文件"><a href="#恢复删除的文件" class="headerlink" title="恢复删除的文件"></a>恢复删除的文件</h3><p>当Linux计算机受到入侵时，常见的情况是日志文件被删除，以掩盖攻击者的踪迹。管理错误也可能导致意外删除重要的文件，比如在清理旧日志时，意外地删除了数据库的活动事务日志。有时可以通过lsof来恢复这些文件。<br>当进程打开了某个文件时，<em>只要该进程保持打开该文件，即使将其删除，它依然存在于磁盘中</em>。这意味着，进程并不知道文件已经被删除，它仍然可以向打开该文件时提供给它的文件描述符进行读取和写入。除了该进程之外，这个文件是不可见的，因为已经删除了其相应的目录索引节点。<br>在/proc 目录下，其中包含了反映内核和进程树的各种文件。/proc目录挂载的是在内存中所映射的一块区域，所以这些文件和目录并不存在于磁盘中，因此当我们对这些文件进行读取和写入时，实际上是在从内存中获取相关信息。大多数与 lsof 相关的信息都存储于以进程的 PID 命名的目录中，即 /proc/1234 中包含的是 PID 为 1234 的进程的信息。每个进程目录中存在着各种文件，它们可以使得应用程序简单地了解进程的内存空间、文件描述符列表、指向磁盘上的文件的符号链接和其他系统信息。lsof 程序使用该信息和其他关于内核内部状态的信息来产生其输出。所以lsof 可以显示进程的文件描述符和相关的文件名等信息。也就是我们通过访问进程的文件描述符可以找到该文件的相关信息。<br>当系统中的某个文件被意外地删除了，只要这个时候系统中还有进程正在访问该文件，那么我们就可以通过lsof从/proc目录下恢复该文件的内容。 假如由于误操作将/var/log/messages文件删除掉了，那么这时要将/var/log/messages文件恢复的方法如下：<br>首先使用lsof来查看当前是否有进程打开/var/logmessages文件，如下：<br><code>lsof |grep /var/log/messages</code><br>syslogd 1283 root 2w REG 3,3 5381017 1773647 /var/log/messages (deleted)<br>从上面的信息可以看到 PID 1283（syslogd）打开文件的文件描述符为 2。同时还可以看到/var/log/messages已经标记被删除了。因此我们可以在 /proc/1283/fd/2 （fd下的每个以数字命名的文件表示进程对应的文件描述符）中查看相应的信息，如下：<br><code>head -n 10 /proc/1283/fd/2</code><br>Aug 4 13:50:15 holmes86 syslogd 1.4.1: restart.<br>Aug 4 13:50:15 holmes86 kernel: klogd 1.4.1, log source = /proc/kmsg started.<br>Aug 4 13:50:15 holmes86 kernel: Linux version 2.6.22.1-8 (<a href="mailto:root@everestbuilder.linux-ren.org" target="_blank" rel="noopener">root@everestbuilder.linux-ren.org</a>) (gcc version 4.2.0) #1 SMP Wed Jul 18 11:18:32 EDT 2007 Aug 4 13:50:15 holmes86 kernel: BIOS-provided physical RAM map: Aug 4 13:50:15 holmes86 kernel: BIOS-e820: 0000000000000000 - 000000000009f000 (usable) Aug 4 13:50:15 holmes86 kernel: BIOS-e820: 000000000009f000 - 00000000000a0000 (reserved) Aug 4 13:50:15 holmes86 kernel: BIOS-e820: 0000000000100000 - 000000001f7d3800 (usable) Aug 4 13:50:15 holmes86 kernel: BIOS-e820: 000000001f7d3800 - 0000000020000000 (reserved) Aug 4 13:50:15 holmes86 kernel: BIOS-e820: 00000000e0000000 - 00000000f0007000 (reserved) Aug 4 13:50:15 holmes86 kernel: BIOS-e820: 00000000f0008000 - 00000000f000c000 (reserved)<br>从上面的信息可以看出，查看 /proc/8663/fd/15 就可以得到所要恢复的数据。如果可以通过文件描述符查看相应的数据，那么就可以使用 I/O 重定向将其复制到文件中，如:<br>cat /proc/1283/fd/2 &gt; /var/log/messages<br>对于许多应用程序，尤其是日志文件和数据库，这种恢复删除文件的方法非常有用。</p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="http://www.cnblogs.com/peida/archive/2013/02/26/2932972.html" target="_blank" rel="noopener">http://www.cnblogs.com/peida/archive/2013/02/26/2932972.html</a><br><a href="https://www.cnblogs.com/ggjucheng/archive/2012/01/08/2316599.html" target="_blank" rel="noopener">https://www.cnblogs.com/ggjucheng/archive/2012/01/08/2316599.html</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/04/其他/How-To-Ask-Questions-The-Smart-Way/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Victor">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Victor的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/04/其他/How-To-Ask-Questions-The-Smart-Way/" itemprop="url">How-To-Ask-Questions-The-Smart-Way</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-04T09:21:09+08:00">
                2018-07-04
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/07/04/其他/How-To-Ask-Questions-The-Smart-Way/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/07/04/其他/How-To-Ask-Questions-The-Smart-Way/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/07/04/其他/How-To-Ask-Questions-The-Smart-Way/" class="leancloud_visitors" data-flag-title="How-To-Ask-Questions-The-Smart-Way">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>中文版地址:<br><a href="https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/master/README-zh_CN.md" target="_blank" rel="noopener">https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/master/README-zh_CN.md</a></p>
<p>如何有效的报告bug<br><a href="https://www.chiark.greenend.org.uk/~sgtatham/bugs-cn.html" target="_blank" rel="noopener">https://www.chiark.greenend.org.uk/~sgtatham/bugs-cn.html</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/03/web-list/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Victor">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Victor的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/03/web-list/" itemprop="url">web-list</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-03T21:54:54+08:00">
                2018-07-03
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/07/03/web-list/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/07/03/web-list/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/07/03/web-list/" class="leancloud_visitors" data-flag-title="web-list">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>jdk8规范:<br><a href="https://docs.oracle.com/javase/specs/jls/se8/html/" target="_blank" rel="noopener">https://docs.oracle.com/javase/specs/jls/se8/html/</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/03/java/java_web/jersey-interceptor/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Victor">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Victor的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/03/java/java_web/jersey-interceptor/" itemprop="url">jersey-interceptor</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-03T17:40:34+08:00">
                2018-07-03
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/07/03/java/java_web/jersey-interceptor/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/07/03/java/java_web/jersey-interceptor/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/07/03/java/java_web/jersey-interceptor/" class="leancloud_visitors" data-flag-title="jersey-interceptor">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="jersey中的interceptor"><a href="#jersey中的interceptor" class="headerlink" title="jersey中的interceptor"></a>jersey中的interceptor</h1><p><a href="https://www.igorkromin.net/index.php/2017/10/19/jersey-jax-rs-filters-and-interceptors-execution-order-for-a-simple-get-request/" target="_blank" rel="noopener">https://www.igorkromin.net/index.php/2017/10/19/jersey-jax-rs-filters-and-interceptors-execution-order-for-a-simple-get-request/</a></p>
<p><a href="https://www.igorkromin.net/fp-content/images/programming/jersey/jerseyflow_get1.png" target="_blank" rel="noopener">https://www.igorkromin.net/fp-content/images/programming/jersey/jerseyflow_get1.png</a><br><img src="/images/pasted-204.png" alt="upload successful"><br>图中显示了从request到response ,jersey开放的可以进行拦截的地方</p>
<p><a href="https://stackoverflow.com/questions/35727497/is-there-an-interceptor-in-jersey-similar-to-that-of-springs-handlerinterceptor" target="_blank" rel="noopener">https://stackoverflow.com/questions/35727497/is-there-an-interceptor-in-jersey-similar-to-that-of-springs-handlerinterceptor</a></p>
<p>ReaderInterceptor - This provides just Annotations of the Class. No access to request/response.<br>ContainerRequestFilter - Provides Request Object but no Annotations/Response.<br>ContainerResponseFilter - Gives Request &amp; Response. But after the web-service/Method is invoked.</p>
<h1 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h1><p>ContainerRequestFilter 接口中的参数中获取的request,只能得到request相关的http请求例如方法,header等<br>对于handler级别的注解,希望在jersey框架中得到ResourceInfo界别的信息,获取method,获取method上面的注解,以判断是否需要进行业务处理</p>
<h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案:"></a>解决方案:</h1><h2 id="Context"><a href="#Context" class="headerlink" title="@Context"></a>@Context</h2><p>使用@Context可以使用ServletConfig，ServletContext，HttpServletRequest和HttpServletResponse。</p>
<h2 id="使用ContainerRequestFilter-Context来解决"><a href="#使用ContainerRequestFilter-Context来解决" class="headerlink" title="使用ContainerRequestFilter+@Context来解决"></a>使用ContainerRequestFilter+@Context来解决</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">@Provider</span><br><span class="line">@RequestSignVerify</span><br><span class="line">public class SignResourceFilter implements ContainerResponseFilter &#123;</span><br><span class="line"></span><br><span class="line">  @Context</span><br><span class="line">  private ResourceInfo resourceInfo;</span><br><span class="line"></span><br><span class="line">  @Context</span><br><span class="line">  private HttpServletRequest servletRequest;</span><br><span class="line"></span><br><span class="line">  @Autowired</span><br><span class="line">  private HttpSignature signatureVerifier;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  public void setSignatureVerifier(HttpSignature signatureVerifier) &#123;</span><br><span class="line">    this.signatureVerifier = signatureVerifier;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @Override</span><br><span class="line">  public void filter(ContainerRequestContext requestContext,</span><br><span class="line">      ContainerResponseContext responseContext) throws IOException &#123;</span><br><span class="line"></span><br><span class="line">    Method resourceMethod = resourceInfo.getResourceMethod();</span><br><span class="line">    if (null != resourceMethod) &#123;</span><br><span class="line">      RequestSignVerify signVerify = resourceMethod.getAnnotation(RequestSignVerify.class);</span><br><span class="line">      if (signVerify != null) &#123;</span><br><span class="line">        HttpRequest httpRequest = ServletSignedRequest.from(servletRequest);</span><br><span class="line">        try &#123;</span><br><span class="line">          if (this.signatureVerifier.verify(httpRequest)) &#123;</span><br><span class="line"></span><br><span class="line">          &#125; else &#123;</span><br><span class="line">            responseContext.setStatus(HttpServletResponse.SC_UNAUTHORIZED);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; catch (GeneralSecurityException e) &#123;</span><br><span class="line">          e.printStackTrace();</span><br><span class="line">          throw new IOException(e);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="Filter-and-interceptor执行顺序"><a href="#Filter-and-interceptor执行顺序" class="headerlink" title="Filter and interceptor执行顺序"></a>Filter and interceptor执行顺序</h1><p><a href="https://jersey.github.io/documentation/latest/filters-and-interceptors.html" target="_blank" rel="noopener">https://jersey.github.io/documentation/latest/filters-and-interceptors.html</a></p>
<ul>
<li>Client request invoked: The POST request with attached entity is built on the client and invoked.</li>
<li>ClientRequestFilters: client request filters are executed on the client and they manipulate the request headers.</li>
<li>Client WriterInterceptor: As the request contains an entity, writer interceptor registered on the client is executed before a MessageBodyWriter is executed. It wraps the entity output stream with the GZipOutputStream.</li>
<li>Client MessageBodyWriter: message body writer is executed on the client which serializes the entity into the new GZipOutput stream. This stream zips the data and sends it to the “wire”.</li>
<li>Server: server receives a request. Data of entity is compressed which means that pure read from the entity input stream would return compressed data.</li>
<li>Server pre-matching ContainerRequestFilters: ContainerRequestFilters are executed that can manipulate resource method matching process.</li>
<li>Server: matching: resource method matching is done.</li>
<li>Server: post-matching ContainerRequestFilters: ContainerRequestFilters post matching filters are executed. This include execution of all global filters (without name binding) and filters name-bound to the matched method.</li>
<li>Server ReaderInterceptor: reader interceptors are executed on the server. The GZIPReaderInterceptor wraps the input stream (the stream from the “wire”) into the GZipInputStream and set it to context.</li>
<li>Server MessageBodyReader: server message body reader is executed and it deserializes the entity from new GZipInputStream (get from the context). This means the reader will read unzipped data and not the compressed data from the “wire”.</li>
<li>Server resource method is executed: the deserialized entity object is passed to the matched resource method as a parameter. The method returns this entity as a response entity.</li>
<li>Server ContainerResponseFilters are executed: response filters are executed on the server and they manipulate the response headers. This include all global bound filters (without name binding) and all filters name-bound to the resource method.</li>
<li>Server WriterInterceptor: is executed on the server. It wraps the original output stream with a new GZIPOuptutStream. The original stream is the stream that “goes to the wire” (output stream for response from the underlying server container).</li>
<li>Server MessageBodyWriter: message body writer is executed on the server which serializes the entity into the GZIPOutputStream. This stream compresses the data and writes it to the original stream which sends this compressed data back to the client.</li>
<li>Client receives the response: the response contains compressed entity data.</li>
<li>Client ClientResponseFilters: client response filters are executed and they manipulate the response headers.</li>
<li>Client response is returned: the javax.ws.rs.core.Response is returned from the request invocation.</li>
<li>Client code calls response.readEntity(): read entity is executed on the client to extract the entity from the response.</li>
<li>Client ReaderInterceptor: the client reader interceptor is executed when readEntity(Class) is called. The interceptor wraps the entity input stream with GZIPInputStream. This will decompress the data from the original input stream.</li>
<li>Client MessageBodyReaders: client message body reader is invoked which reads decompressed data from GZIPInputStream and deserializes the entity.</li>
<li>Client: The entity is returned from the readEntity().</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/03/java/java_common/Java-8-default-method-and-multiple-inheritance/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Victor">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Victor的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/03/java/java_common/Java-8-default-method-and-multiple-inheritance/" itemprop="url">Java-8-default-method-and-multiple-inheritance</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-03T16:06:42+08:00">
                2018-07-03
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/07/03/java/java_common/Java-8-default-method-and-multiple-inheritance/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/07/03/java/java_common/Java-8-default-method-and-multiple-inheritance/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/07/03/java/java_common/Java-8-default-method-and-multiple-inheritance/" class="leancloud_visitors" data-flag-title="Java-8-default-method-and-multiple-inheritance">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="java8-多继承"><a href="#java8-多继承" class="headerlink" title="java8 多继承"></a>java8 多继承</h1><p>在java 接口中出现了default方法后,如果一个类同时实现了2个接口,而两个接口都有相同的default方法,该如何处理呢?</p>
<h2 id="多个父接口"><a href="#多个父接口" class="headerlink" title="多个父接口"></a>多个父接口</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">+---------------+         +------------+</span><br><span class="line">|  Interface A  |         |Interface B |</span><br><span class="line">+-----------^---+         +---^--------+</span><br><span class="line">            |                 |         </span><br><span class="line">            |                 |         </span><br><span class="line">            |                 |         </span><br><span class="line">            +-+------------+--+         </span><br><span class="line">              | Interface C|            </span><br><span class="line">              +------------+</span><br></pre></td></tr></table></figure>
<p>A,B拥有相同签名的默认方法default String say(String name), 如果接口C没有override这个方法， 则编译出错。<br><code>interface C inherits unrelated defaults for say(String) from types A and B</code></p>
<h3 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">interface C extends A,B&#123;</span><br><span class="line">	default String say(String name) &#123;</span><br><span class="line">		return &quot;greet &quot; + name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="接口多层继承"><a href="#接口多层继承" class="headerlink" title="接口多层继承"></a>接口多层继承</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">+---------------+ </span><br><span class="line">|  Interface A1 | </span><br><span class="line">+--------+------+ </span><br><span class="line">         |        </span><br><span class="line">         |        </span><br><span class="line">         |        </span><br><span class="line">+--------+------+ </span><br><span class="line">|  Interface A2 | </span><br><span class="line">+-------+-------+ </span><br><span class="line">        |         </span><br><span class="line">        |         </span><br><span class="line">        |         </span><br><span class="line">+-------+--------+</span><br><span class="line">|   Interface C  |</span><br><span class="line">+----------------+</span><br></pre></td></tr></table></figure>
<h2 id="多层多继承"><a href="#多层多继承" class="headerlink" title="多层多继承"></a>多层多继承</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">+---------------+                          </span><br><span class="line">|  Interface A1 |                          </span><br><span class="line">+--------+------+                          </span><br><span class="line">         |                                 </span><br><span class="line">         |                                 </span><br><span class="line">         |                                 </span><br><span class="line">+--------+------+         +---------------+</span><br><span class="line">|  Interface A2 |         |  Interface B  |</span><br><span class="line">+-------+-------+         +---------+-----+</span><br><span class="line">        |       +---------+---------^      </span><br><span class="line">        |       |                          </span><br><span class="line">        |       |                          </span><br><span class="line">+-------+-------++                         </span><br><span class="line">|   Interface C  |                         </span><br><span class="line">+----------------+</span><br></pre></td></tr></table></figure>
<h2 id="类和接口混杂"><a href="#类和接口混杂" class="headerlink" title="类和接口混杂"></a>类和接口混杂</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">+-------------+       +-----------+</span><br><span class="line">| Interface A |       |  Class B  |</span><br><span class="line">+-----------+-+       +-----+-----+</span><br><span class="line">            ^-+    +--+-----^      </span><br><span class="line">              |    |               </span><br><span class="line">          +---+----+-+             </span><br><span class="line">          |  Class C |             </span><br><span class="line">          +----------+</span><br></pre></td></tr></table></figure>
<h1 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h1><ul>
<li>类优先于接口。 如果一个子类继承的父类和接口有相同的方法实现。 那么子类继承父类的方法</li>
<li>子类型中的方法优先于父类型中的方法。</li>
<li>如果以上条件都不满足， 则必须显示覆盖/实现其方法，或者声明成abstract。</li>
</ul>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="http://colobu.com/2014/11/04/Java-8-default-method-and-multiple-inheritance/" target="_blank" rel="noopener">http://colobu.com/2014/11/04/Java-8-default-method-and-multiple-inheritance/</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/03/maven-resources-plugin/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Victor">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Victor的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/03/maven-resources-plugin/" itemprop="url">maven-resources插件</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-03T15:20:38+08:00">
                2018-07-03
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/07/03/maven-resources-plugin/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/07/03/maven-resources-plugin/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/07/03/maven-resources-plugin/" class="leancloud_visitors" data-flag-title="maven-resources插件">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="官网"><a href="#官网" class="headerlink" title="官网"></a>官网</h1><p><a href="https://maven.apache.org/plugins/maven-resources-plugin/plugin-info.html" target="_blank" rel="noopener">https://maven.apache.org/plugins/maven-resources-plugin/plugin-info.html</a></p>
<h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><p>Resources Plugin将Resource元素指定的文件复制到输出目录。以下三个变体仅在指定或默认资源和输出目录元素的方式上有所不同。 Resources插件有三个目标：</p>
<h2 id="resources：resources"><a href="#resources：resources" class="headerlink" title="resources：resources"></a>resources：resources</h2><p>将主源代码的资源复制到主输出目录。<br>此目标通常自动执行，因为它默认绑定到流程资源生命周期阶段。它始终使用project.build.resources元素指定资源，默认情况下使用project.build.outputDirectory指定复制目标。</p>
<h2 id="resources：testResources"><a href="#resources：testResources" class="headerlink" title="resources：testResources"></a>resources：testResources</h2><p>将测试源代码的资源复制到测试输出目录。<br>此目标通常自动执行，因为它默认绑定到process-test-resources生命周期阶段。它始终使用project.build.testResources元素指定资源，默认情况下使用project.build.testOutputDirectory指定复制目标。</p>
<h2 id="resources：copy-resources"><a href="#resources：copy-resources" class="headerlink" title="resources：copy-resources"></a>resources：copy-resources</h2><p>将资源复制到输出目录。<br>此目标要求您配置要复制的资源，并指定outputDirectory。</p>
<h2 id="filtering"><a href="#filtering" class="headerlink" title="filtering"></a>filtering</h2><p>将变量注入到变量中:  ${…} </p>
<h1 id="具体配置"><a href="#具体配置" class="headerlink" title="具体配置"></a>具体配置</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;resources&gt;</span><br><span class="line">  &lt;resource&gt;</span><br><span class="line">    &lt;directory&gt;src/main/resources&lt;/directory&gt;</span><br><span class="line">  &lt;/resource&gt;</span><br><span class="line">  &lt;resource&gt;</span><br><span class="line">    &lt;directory&gt;src/main/filters/$&#123;env&#125;&lt;/directory&gt;</span><br><span class="line">    &lt;includes&gt;</span><br><span class="line">      &lt;include&gt;**/*.xml&lt;/include&gt;</span><br><span class="line">      &lt;include&gt;**/*.conf&lt;/include&gt;</span><br><span class="line">    &lt;/includes&gt;</span><br><span class="line">  &lt;/resource&gt;</span><br><span class="line">&lt;/resources&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &lt;plugin&gt;</span><br><span class="line">    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;</span><br><span class="line">    &lt;configuration&gt;</span><br><span class="line">      &lt;encoding&gt;UTF8&lt;/encoding&gt;</span><br><span class="line">    &lt;/configuration&gt;</span><br><span class="line">  &lt;/plugin&gt;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/03/java/java_web/springmvc-interceptor/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Victor">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Victor的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/03/java/java_web/springmvc-interceptor/" itemprop="url">springmvc-interceptor</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-03T11:07:35+08:00">
                2018-07-03
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/07/03/java/java_web/springmvc-interceptor/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/07/03/java/java_web/springmvc-interceptor/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/07/03/java/java_web/springmvc-interceptor/" class="leancloud_visitors" data-flag-title="springmvc-interceptor">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://blog.csdn.net/qq_28885149/article/details/76559402" target="_blank" rel="noopener">https://blog.csdn.net/qq_28885149/article/details/76559402</a></p>
<p><a href="https://my.oschina.net/viakiba/blog/876506" target="_blank" rel="noopener">https://my.oschina.net/viakiba/blog/876506</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/03/java/java_common/charset-string/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Victor">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Victor的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/03/java/java_common/charset-string/" itemprop="url">字符与string</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-03T07:43:36+08:00">
                2018-07-03
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/07/03/java/java_common/charset-string/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/07/03/java/java_common/charset-string/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/07/03/java/java_common/charset-string/" class="leancloud_visitors" data-flag-title="字符与string">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Java字符串的内部编码"><a href="#Java字符串的内部编码" class="headerlink" title="Java字符串的内部编码"></a>Java字符串的内部编码</h1><p>String类内部管理着一个char类型的数组，Java API是这样描述char基本类型的：<br>char 数据类型（和 Character 对象封装的值）基于原始的 Unicode 规范，将字符定义为固定宽度的 16 位实体。(2倍于字节)</p>
<h1 id="字符集对比"><a href="#字符集对比" class="headerlink" title="字符集对比"></a>字符集对比</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">  public void chinese() &#123;</span><br><span class="line">    String str = &quot;中国&quot;;</span><br><span class="line">    printBytes(str);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @Test</span><br><span class="line">  public void email() &#123;</span><br><span class="line">    String str = &quot;aa@qq.com&quot;;</span><br><span class="line">    printBytes(str);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private void printBytes(String str) &#123;</span><br><span class="line">    printBytes(str + &quot;的UNICODE编码：&quot;, str.getBytes(Charset.forName(&quot;unicode&quot;)));</span><br><span class="line">    printBytes(str + &quot;的8859编码：&quot;, str.getBytes(Charset.forName(&quot;ISO-8859-1&quot;)));</span><br><span class="line">    printBytes(str + &quot;的BIG5编码：&quot;, str.getBytes(Charset.forName(&quot;BIG5&quot;)));</span><br><span class="line">    printBytes(str + &quot;的GBK编码：&quot;, str.getBytes(Charset.forName(&quot;GBK&quot;)));</span><br><span class="line">    printBytes(str + &quot;的UTF-8编码：&quot;, str.getBytes(Charset.forName(&quot;UTF-8&quot;)));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  public void printBytes(String title, byte[] data) &#123;</span><br><span class="line">    System.out.println(title);</span><br><span class="line">    for (byte b : data) &#123;</span><br><span class="line">      System.out.print(&quot;0x&quot; + toHexString(b) + &quot; &quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  public String toHexString(byte value) &#123;</span><br><span class="line">    String tmp = Integer.toHexString(value &amp; 0xFF);</span><br><span class="line">    if (tmp.length() == 1) &#123;</span><br><span class="line">      tmp = &quot;0&quot; + tmp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return tmp.toUpperCase();</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h2 id="中国"><a href="#中国" class="headerlink" title="中国"></a>中国</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">中国的UNICODE编码：</span><br><span class="line">0xFE 0xFF 0x4E 0x2D 0x56 0xFD </span><br><span class="line">中国的8859编码：</span><br><span class="line">0x3F 0x3F </span><br><span class="line">中国的BIG5编码：</span><br><span class="line">0xA4 0xA4 0x3F </span><br><span class="line">中国的GBK编码：</span><br><span class="line">0xD6 0xD0 0xB9 0xFA </span><br><span class="line">中国的UTF-8编码：</span><br><span class="line">0xE4 0xB8 0xAD 0xE5 0x9B 0xBD</span><br></pre></td></tr></table></figure>
<h2 id="email"><a href="#email" class="headerlink" title="email"></a>email</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">aa@qq.com的UNICODE编码：</span><br><span class="line">0xFE 0xFF 0x00 0x61 0x00 0x61 0x00 0x40 0x00 0x71 0x00 0x71 0x00 0x2E 0x00 0x63 0x00 0x6F 0x00 0x6D </span><br><span class="line">aa@qq.com的8859编码：</span><br><span class="line">0x61 0x61 0x40 0x71 0x71 0x2E 0x63 0x6F 0x6D </span><br><span class="line">aa@qq.com的BIG5编码：</span><br><span class="line">0x61 0x61 0x40 0x71 0x71 0x2E 0x63 0x6F 0x6D </span><br><span class="line">aa@qq.com的GBK编码：</span><br><span class="line">0x61 0x61 0x40 0x71 0x71 0x2E 0x63 0x6F 0x6D </span><br><span class="line">aa@qq.com的UTF-8编码：</span><br><span class="line">0x61 0x61 0x40 0x71 0x71 0x2E 0x63 0x6F 0x6D</span><br></pre></td></tr></table></figure>
<h2 id="特殊的字符集（ISO-8859-1）"><a href="#特殊的字符集（ISO-8859-1）" class="headerlink" title="特殊的字符集（ISO-8859-1）"></a>特殊的字符集（ISO-8859-1）</h2><p>ISO-8859-1是单字节字符集，是ASCII字符集的补充。通常情况下使用ISO-8859-1字符集进行字符串对象与字节化字符数据的互换操作与前述完全一致。</p>
<p>利用ISO-8859-1字符集，我们可以将任何一个字节数组无损保存到字符串对象中。</p>
<h1 id="0x代表的含义-十六进制表示法"><a href="#0x代表的含义-十六进制表示法" class="headerlink" title="0x代表的含义:十六进制表示法"></a>0x代表的含义:十六进制表示法</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">public class Test &#123;</span><br><span class="line">	</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		</span><br><span class="line">		int a = 0x2f;//小写十六进制（等价于0x002f）</span><br><span class="line">		System.out.println(Integer.toBinaryString(a));</span><br><span class="line">		</span><br><span class="line">		int b = 0x2F;//大写十六进制</span><br><span class="line">		System.out.println(Integer.toBinaryString(b));</span><br><span class="line">		</span><br><span class="line">		int c = 10;//标准十进制</span><br><span class="line">		System.out.println(Integer.toBinaryString(c));</span><br><span class="line">		</span><br><span class="line">		int d = 010;//以零开头，表示八进制</span><br><span class="line">		System.out.println(Integer.toBinaryString(d));</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		char e = 0xff;//char为2个字节，16位</span><br><span class="line">		byte f = 0xf;//byte为8位</span><br><span class="line">		short g = 0xff;//short为2个字节，16位</span><br><span class="line">		System.out.println(Integer.toBinaryString(e));</span><br><span class="line">		System.out.println(Integer.toBinaryString(f));</span><br><span class="line">		System.out.println(Integer.toBinaryString(g));</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">/*</span><br><span class="line">  结果如下：(都是按照int型处理)</span><br><span class="line">101111</span><br><span class="line">101111</span><br><span class="line">1010</span><br><span class="line">1000</span><br><span class="line">11111111</span><br><span class="line">1111</span><br><span class="line">11111111</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
<h1 id="ASCII-（American-Standard-Code-for-Information-Interchange，美国信息交换标准代码）"><a href="#ASCII-（American-Standard-Code-for-Information-Interchange，美国信息交换标准代码）" class="headerlink" title="ASCII （American Standard Code for Information Interchange，美国信息交换标准代码）"></a>ASCII （American Standard Code for Information Interchange，美国信息交换标准代码）</h1><p>十进制:0-127</p>
<table>
<thead>
<tr>
<th style="text-align:left">Bin(二进制)</th>
<th style="text-align:left">Oct(八进制)</th>
<th style="text-align:left">Dec(十进制)</th>
<th style="text-align:left">Hex(十六进制)</th>
<th style="text-align:left">缩写/字符</th>
<th style="text-align:left">解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">0000 0000</td>
<td style="text-align:left">0</td>
<td style="text-align:left">0</td>
<td style="text-align:left">00</td>
<td style="text-align:left">NUL(null)</td>
<td style="text-align:left">空字符</td>
</tr>
<tr>
<td style="text-align:left">0000 0001</td>
<td style="text-align:left">1</td>
<td style="text-align:left">1</td>
<td style="text-align:left">01</td>
<td style="text-align:left">SOH(start of headline)</td>
<td style="text-align:left">标题开始</td>
</tr>
<tr>
<td style="text-align:left">0000 0010</td>
<td style="text-align:left">2</td>
<td style="text-align:left">2</td>
<td style="text-align:left">02</td>
<td style="text-align:left">STX (start of text)</td>
<td style="text-align:left">正文开始</td>
</tr>
<tr>
<td style="text-align:left">0000 0011</td>
<td style="text-align:left">3</td>
<td style="text-align:left">3</td>
<td style="text-align:left">03</td>
<td style="text-align:left">ETX (end of text)</td>
<td style="text-align:left">正文结束</td>
</tr>
<tr>
<td style="text-align:left">0000 0100</td>
<td style="text-align:left">4</td>
<td style="text-align:left">4</td>
<td style="text-align:left">04</td>
<td style="text-align:left">EOT (end of transmission)</td>
<td style="text-align:left">传输结束</td>
</tr>
<tr>
<td style="text-align:left">0000 0101</td>
<td style="text-align:left">5</td>
<td style="text-align:left">5</td>
<td style="text-align:left">05</td>
<td style="text-align:left">ENQ (enquiry)</td>
<td style="text-align:left">请求</td>
</tr>
<tr>
<td style="text-align:left">0000 0110</td>
<td style="text-align:left">6</td>
<td style="text-align:left">6</td>
<td style="text-align:left">06</td>
<td style="text-align:left">ACK (acknowledge)</td>
<td style="text-align:left">收到通知</td>
</tr>
<tr>
<td style="text-align:left">0000 0111</td>
<td style="text-align:left">7</td>
<td style="text-align:left">7</td>
<td style="text-align:left">07</td>
<td style="text-align:left">BEL (bell)</td>
<td style="text-align:left">响铃</td>
</tr>
<tr>
<td style="text-align:left">0000 1000</td>
<td style="text-align:left">10</td>
<td style="text-align:left">8</td>
<td style="text-align:left">08</td>
<td style="text-align:left">BS (backspace)</td>
<td style="text-align:left">退格</td>
</tr>
<tr>
<td style="text-align:left">0000 1001</td>
<td style="text-align:left">11</td>
<td style="text-align:left">9</td>
<td style="text-align:left">09</td>
<td style="text-align:left">HT (horizontal tab)</td>
<td style="text-align:left">水平制表符</td>
</tr>
<tr>
<td style="text-align:left">0000 1010</td>
<td style="text-align:left">12</td>
<td style="text-align:left">10</td>
<td style="text-align:left">0A</td>
<td style="text-align:left">LF (NL line feed, new line)</td>
<td style="text-align:left">换行键</td>
</tr>
<tr>
<td style="text-align:left">0000 1011</td>
<td style="text-align:left">13</td>
<td style="text-align:left">11</td>
<td style="text-align:left">0B</td>
<td style="text-align:left">VT (vertical tab)</td>
<td style="text-align:left">垂直制表符</td>
</tr>
<tr>
<td style="text-align:left">0000 1100</td>
<td style="text-align:left">14</td>
<td style="text-align:left">12</td>
<td style="text-align:left">0C</td>
<td style="text-align:left">FF (NP form feed, new page)</td>
<td style="text-align:left">换页键</td>
</tr>
<tr>
<td style="text-align:left">0000 1101</td>
<td style="text-align:left">15</td>
<td style="text-align:left">13</td>
<td style="text-align:left">0D</td>
<td style="text-align:left">CR (carriage return)</td>
<td style="text-align:left">回车键</td>
</tr>
<tr>
<td style="text-align:left">0000 1110</td>
<td style="text-align:left">16</td>
<td style="text-align:left">14</td>
<td style="text-align:left">0E</td>
<td style="text-align:left">SO (shift out)</td>
<td style="text-align:left">不用切换</td>
</tr>
<tr>
<td style="text-align:left">0000 1111</td>
<td style="text-align:left">17</td>
<td style="text-align:left">15</td>
<td style="text-align:left">0F</td>
<td style="text-align:left">SI (shift in)</td>
<td style="text-align:left">启用切换</td>
</tr>
<tr>
<td style="text-align:left">0001 0000</td>
<td style="text-align:left">20</td>
<td style="text-align:left">16</td>
<td style="text-align:left">10</td>
<td style="text-align:left">DLE (data link escape)</td>
<td style="text-align:left">数据链路转义</td>
</tr>
<tr>
<td style="text-align:left">0001 0001</td>
<td style="text-align:left">21</td>
<td style="text-align:left">17</td>
<td style="text-align:left">11</td>
<td style="text-align:left">DC1 (device control 1)</td>
<td style="text-align:left">设备控制1</td>
</tr>
<tr>
<td style="text-align:left">0001 0010</td>
<td style="text-align:left">22</td>
<td style="text-align:left">18</td>
<td style="text-align:left">12</td>
<td style="text-align:left">DC2 (device control 2)</td>
<td style="text-align:left">设备控制2</td>
</tr>
<tr>
<td style="text-align:left">0001 0011</td>
<td style="text-align:left">23</td>
<td style="text-align:left">19</td>
<td style="text-align:left">13</td>
<td style="text-align:left">DC3 (device control 3)</td>
<td style="text-align:left">设备控制3</td>
</tr>
<tr>
<td style="text-align:left">0001 0100</td>
<td style="text-align:left">24</td>
<td style="text-align:left">20</td>
<td style="text-align:left">14</td>
<td style="text-align:left">DC4 (device control 4)</td>
<td style="text-align:left">设备控制4</td>
</tr>
<tr>
<td style="text-align:left">0001 0101</td>
<td style="text-align:left">25</td>
<td style="text-align:left">21</td>
<td style="text-align:left">15</td>
<td style="text-align:left">NAK (negative acknowledge)</td>
<td style="text-align:left">拒绝接收</td>
</tr>
<tr>
<td style="text-align:left">0001 0110</td>
<td style="text-align:left">26</td>
<td style="text-align:left">22</td>
<td style="text-align:left">16</td>
<td style="text-align:left">SYN (synchronous idle)</td>
<td style="text-align:left">同步空闲</td>
</tr>
<tr>
<td style="text-align:left">0001 0111</td>
<td style="text-align:left">27</td>
<td style="text-align:left">23</td>
<td style="text-align:left">17</td>
<td style="text-align:left">ETB (end of trans. block)</td>
<td style="text-align:left">结束传输块</td>
</tr>
<tr>
<td style="text-align:left">0001 1000</td>
<td style="text-align:left">30</td>
<td style="text-align:left">24</td>
<td style="text-align:left">18</td>
<td style="text-align:left">CAN (cancel)</td>
<td style="text-align:left">取消</td>
</tr>
<tr>
<td style="text-align:left">0001 1001</td>
<td style="text-align:left">31</td>
<td style="text-align:left">25</td>
<td style="text-align:left">19</td>
<td style="text-align:left">EM (end of medium)</td>
<td style="text-align:left">媒介结束</td>
</tr>
<tr>
<td style="text-align:left">0001 1010</td>
<td style="text-align:left">32</td>
<td style="text-align:left">26</td>
<td style="text-align:left">1A</td>
<td style="text-align:left">SUB (substitute)</td>
<td style="text-align:left">代替</td>
</tr>
<tr>
<td style="text-align:left">0001 1011</td>
<td style="text-align:left">33</td>
<td style="text-align:left">27</td>
<td style="text-align:left">1B</td>
<td style="text-align:left">ESC (escape)</td>
<td style="text-align:left">换码(溢出)</td>
</tr>
<tr>
<td style="text-align:left">0001 1100</td>
<td style="text-align:left">34</td>
<td style="text-align:left">28</td>
<td style="text-align:left">1C</td>
<td style="text-align:left">FS (file separator)</td>
<td style="text-align:left">文件分隔符</td>
</tr>
<tr>
<td style="text-align:left">0001 1101</td>
<td style="text-align:left">35</td>
<td style="text-align:left">29</td>
<td style="text-align:left">1D</td>
<td style="text-align:left">GS (group separator)</td>
<td style="text-align:left">分组符</td>
</tr>
<tr>
<td style="text-align:left">0001 1110</td>
<td style="text-align:left">36</td>
<td style="text-align:left">30</td>
<td style="text-align:left">1E</td>
<td style="text-align:left">RS (record separator)</td>
<td style="text-align:left">记录分隔符</td>
</tr>
<tr>
<td style="text-align:left">0001 1111</td>
<td style="text-align:left">37</td>
<td style="text-align:left">31</td>
<td style="text-align:left">1F</td>
<td style="text-align:left">US (unit separator)</td>
<td style="text-align:left">单元分隔符</td>
</tr>
<tr>
<td style="text-align:left">0010 0000</td>
<td style="text-align:left">40</td>
<td style="text-align:left">32</td>
<td style="text-align:left">20</td>
<td style="text-align:left">(space)</td>
<td style="text-align:left">空格</td>
</tr>
<tr>
<td style="text-align:left">0010 0001</td>
<td style="text-align:left">41</td>
<td style="text-align:left">33</td>
<td style="text-align:left">21</td>
<td style="text-align:left">!</td>
<td style="text-align:left">叹号</td>
</tr>
<tr>
<td style="text-align:left">0010 0010</td>
<td style="text-align:left">42</td>
<td style="text-align:left">34</td>
<td style="text-align:left">22</td>
<td style="text-align:left">“</td>
<td style="text-align:left">双引号</td>
</tr>
<tr>
<td style="text-align:left">0010 0011</td>
<td style="text-align:left">43</td>
<td style="text-align:left">35</td>
<td style="text-align:left">23</td>
<td style="text-align:left">#</td>
<td style="text-align:left">井号</td>
</tr>
<tr>
<td style="text-align:left">0010 0100</td>
<td style="text-align:left">44</td>
<td style="text-align:left">36</td>
<td style="text-align:left">24</td>
<td style="text-align:left">$</td>
<td style="text-align:left">美元符</td>
</tr>
<tr>
<td style="text-align:left">0010 0101</td>
<td style="text-align:left">45</td>
<td style="text-align:left">37</td>
<td style="text-align:left">25</td>
<td style="text-align:left">%</td>
<td style="text-align:left">百分号</td>
</tr>
<tr>
<td style="text-align:left">0010 0110</td>
<td style="text-align:left">46</td>
<td style="text-align:left">38</td>
<td style="text-align:left">26</td>
<td style="text-align:left">&amp;</td>
<td style="text-align:left">和号</td>
</tr>
<tr>
<td style="text-align:left">0010 0111</td>
<td style="text-align:left">47</td>
<td style="text-align:left">39</td>
<td style="text-align:left">27</td>
<td style="text-align:left">‘</td>
<td style="text-align:left">闭单引号</td>
</tr>
<tr>
<td style="text-align:left">0010 1000</td>
<td style="text-align:left">50</td>
<td style="text-align:left">40</td>
<td style="text-align:left">28</td>
<td style="text-align:left">(</td>
<td style="text-align:left">开括号</td>
</tr>
<tr>
<td style="text-align:left">0010 1001</td>
<td style="text-align:left">51</td>
<td style="text-align:left">41</td>
<td style="text-align:left">29</td>
<td style="text-align:left">)</td>
<td style="text-align:left">闭括号</td>
</tr>
<tr>
<td style="text-align:left">0010 1010</td>
<td style="text-align:left">52</td>
<td style="text-align:left">42</td>
<td style="text-align:left">2A</td>
<td style="text-align:left">*</td>
<td style="text-align:left">星号</td>
</tr>
<tr>
<td style="text-align:left">0010 1011</td>
<td style="text-align:left">53</td>
<td style="text-align:left">43</td>
<td style="text-align:left">2B</td>
<td style="text-align:left">+</td>
<td style="text-align:left">加号</td>
</tr>
<tr>
<td style="text-align:left">0010 1100</td>
<td style="text-align:left">54</td>
<td style="text-align:left">44</td>
<td style="text-align:left">2C</td>
<td style="text-align:left">,</td>
<td style="text-align:left">逗号</td>
</tr>
<tr>
<td style="text-align:left">0010 1101</td>
<td style="text-align:left">55</td>
<td style="text-align:left">45</td>
<td style="text-align:left">2D</td>
<td style="text-align:left">-</td>
<td style="text-align:left">减号/破折号</td>
</tr>
<tr>
<td style="text-align:left">0010 1110</td>
<td style="text-align:left">56</td>
<td style="text-align:left">46</td>
<td style="text-align:left">2E</td>
<td style="text-align:left">.</td>
<td style="text-align:left">句号</td>
</tr>
<tr>
<td style="text-align:left">00101111</td>
<td style="text-align:left">57</td>
<td style="text-align:left">47</td>
<td style="text-align:left">2F</td>
<td style="text-align:left">/</td>
<td style="text-align:left">斜杠</td>
</tr>
<tr>
<td style="text-align:left">00110000</td>
<td style="text-align:left">60</td>
<td style="text-align:left">48</td>
<td style="text-align:left">30</td>
<td style="text-align:left">0</td>
<td style="text-align:left">数字0</td>
</tr>
<tr>
<td style="text-align:left">00110001</td>
<td style="text-align:left">61</td>
<td style="text-align:left">49</td>
<td style="text-align:left">31</td>
<td style="text-align:left">1</td>
<td style="text-align:left">数字1</td>
</tr>
<tr>
<td style="text-align:left">00110010</td>
<td style="text-align:left">62</td>
<td style="text-align:left">50</td>
<td style="text-align:left">32</td>
<td style="text-align:left">2</td>
<td style="text-align:left">数字2</td>
</tr>
<tr>
<td style="text-align:left">00110011</td>
<td style="text-align:left">63</td>
<td style="text-align:left">51</td>
<td style="text-align:left">33</td>
<td style="text-align:left">3</td>
<td style="text-align:left">数字3</td>
</tr>
<tr>
<td style="text-align:left">00110100</td>
<td style="text-align:left">64</td>
<td style="text-align:left">52</td>
<td style="text-align:left">34</td>
<td style="text-align:left">4</td>
<td style="text-align:left">数字4</td>
</tr>
<tr>
<td style="text-align:left">00110101</td>
<td style="text-align:left">65</td>
<td style="text-align:left">53</td>
<td style="text-align:left">35</td>
<td style="text-align:left">5</td>
<td style="text-align:left">数字5</td>
</tr>
<tr>
<td style="text-align:left">00110110</td>
<td style="text-align:left">66</td>
<td style="text-align:left">54</td>
<td style="text-align:left">36</td>
<td style="text-align:left">6</td>
<td style="text-align:left">数字6</td>
</tr>
<tr>
<td style="text-align:left">00110111</td>
<td style="text-align:left">67</td>
<td style="text-align:left">55</td>
<td style="text-align:left">37</td>
<td style="text-align:left">7</td>
<td style="text-align:left">数字7</td>
</tr>
<tr>
<td style="text-align:left">00111000</td>
<td style="text-align:left">70</td>
<td style="text-align:left">56</td>
<td style="text-align:left">38</td>
<td style="text-align:left">8</td>
<td style="text-align:left">数字8</td>
</tr>
<tr>
<td style="text-align:left">00111001</td>
<td style="text-align:left">71</td>
<td style="text-align:left">57</td>
<td style="text-align:left">39</td>
<td style="text-align:left">9</td>
<td style="text-align:left">数字9</td>
</tr>
<tr>
<td style="text-align:left">00111010</td>
<td style="text-align:left">72</td>
<td style="text-align:left">58</td>
<td style="text-align:left">3A</td>
<td style="text-align:left">:</td>
<td style="text-align:left">冒号</td>
</tr>
<tr>
<td style="text-align:left">00111011</td>
<td style="text-align:left">73</td>
<td style="text-align:left">59</td>
<td style="text-align:left">3B</td>
<td style="text-align:left">;</td>
<td style="text-align:left">分号</td>
</tr>
<tr>
<td style="text-align:left">00111100</td>
<td style="text-align:left">74</td>
<td style="text-align:left">60</td>
<td style="text-align:left">3C</td>
<td style="text-align:left">&lt;</td>
<td style="text-align:left">小于</td>
</tr>
<tr>
<td style="text-align:left">00111101</td>
<td style="text-align:left">75</td>
<td style="text-align:left">61</td>
<td style="text-align:left">3D</td>
<td style="text-align:left">=</td>
<td style="text-align:left">等号</td>
</tr>
<tr>
<td style="text-align:left">00111110</td>
<td style="text-align:left">76</td>
<td style="text-align:left">62</td>
<td style="text-align:left">3E</td>
<td style="text-align:left">&gt;</td>
<td style="text-align:left">大于</td>
</tr>
<tr>
<td style="text-align:left">00111111</td>
<td style="text-align:left">77</td>
<td style="text-align:left">63</td>
<td style="text-align:left">3F</td>
<td style="text-align:left">?</td>
<td style="text-align:left">问号</td>
</tr>
<tr>
<td style="text-align:left">01000000</td>
<td style="text-align:left">100</td>
<td style="text-align:left">64</td>
<td style="text-align:left">40</td>
<td style="text-align:left">@</td>
<td style="text-align:left">电子邮件符号</td>
</tr>
<tr>
<td style="text-align:left">01000001</td>
<td style="text-align:left">101</td>
<td style="text-align:left">65</td>
<td style="text-align:left">41</td>
<td style="text-align:left">A</td>
<td style="text-align:left">大写字母A</td>
</tr>
<tr>
<td style="text-align:left">01000010</td>
<td style="text-align:left">102</td>
<td style="text-align:left">66</td>
<td style="text-align:left">42</td>
<td style="text-align:left">B</td>
<td style="text-align:left">大写字母B</td>
</tr>
<tr>
<td style="text-align:left">01000011</td>
<td style="text-align:left">103</td>
<td style="text-align:left">67</td>
<td style="text-align:left">43</td>
<td style="text-align:left">C</td>
<td style="text-align:left">大写字母C</td>
</tr>
<tr>
<td style="text-align:left">01000100</td>
<td style="text-align:left">104</td>
<td style="text-align:left">68</td>
<td style="text-align:left">44</td>
<td style="text-align:left">D</td>
<td style="text-align:left">大写字母D</td>
</tr>
<tr>
<td style="text-align:left">01000101</td>
<td style="text-align:left">105</td>
<td style="text-align:left">69</td>
<td style="text-align:left">45</td>
<td style="text-align:left">E</td>
<td style="text-align:left">大写字母E</td>
</tr>
<tr>
<td style="text-align:left">01000110</td>
<td style="text-align:left">106</td>
<td style="text-align:left">70</td>
<td style="text-align:left">46</td>
<td style="text-align:left">F</td>
<td style="text-align:left">大写字母F</td>
</tr>
<tr>
<td style="text-align:left">01000111</td>
<td style="text-align:left">107</td>
<td style="text-align:left">71</td>
<td style="text-align:left">47</td>
<td style="text-align:left">G</td>
<td style="text-align:left">大写字母G</td>
</tr>
<tr>
<td style="text-align:left">01001000</td>
<td style="text-align:left">110</td>
<td style="text-align:left">72</td>
<td style="text-align:left">48</td>
<td style="text-align:left">H</td>
<td style="text-align:left">大写字母H</td>
</tr>
<tr>
<td style="text-align:left">01001001</td>
<td style="text-align:left">111</td>
<td style="text-align:left">73</td>
<td style="text-align:left">49</td>
<td style="text-align:left">I</td>
<td style="text-align:left">大写字母I</td>
</tr>
<tr>
<td style="text-align:left">01001010</td>
<td style="text-align:left">112</td>
<td style="text-align:left">74</td>
<td style="text-align:left">4A</td>
<td style="text-align:left">J</td>
<td style="text-align:left">大写字母J</td>
</tr>
<tr>
<td style="text-align:left">01001011</td>
<td style="text-align:left">113</td>
<td style="text-align:left">75</td>
<td style="text-align:left">4B</td>
<td style="text-align:left">K</td>
<td style="text-align:left">大写字母K</td>
</tr>
<tr>
<td style="text-align:left">01001100</td>
<td style="text-align:left">114</td>
<td style="text-align:left">76</td>
<td style="text-align:left">4C</td>
<td style="text-align:left">L</td>
<td style="text-align:left">大写字母L</td>
</tr>
<tr>
<td style="text-align:left">01001101</td>
<td style="text-align:left">115</td>
<td style="text-align:left">77</td>
<td style="text-align:left">4D</td>
<td style="text-align:left">M</td>
<td style="text-align:left">大写字母M</td>
</tr>
<tr>
<td style="text-align:left">01001110</td>
<td style="text-align:left">116</td>
<td style="text-align:left">78</td>
<td style="text-align:left">4E</td>
<td style="text-align:left">N</td>
<td style="text-align:left">大写字母N</td>
</tr>
<tr>
<td style="text-align:left">01001111</td>
<td style="text-align:left">117</td>
<td style="text-align:left">79</td>
<td style="text-align:left">4F</td>
<td style="text-align:left">O</td>
<td style="text-align:left">大写字母O</td>
</tr>
<tr>
<td style="text-align:left">01010000</td>
<td style="text-align:left">120</td>
<td style="text-align:left">80</td>
<td style="text-align:left">50</td>
<td style="text-align:left">P</td>
<td style="text-align:left">大写字母P</td>
</tr>
<tr>
<td style="text-align:left">01010001</td>
<td style="text-align:left">121</td>
<td style="text-align:left">81</td>
<td style="text-align:left">51</td>
<td style="text-align:left">Q</td>
<td style="text-align:left">大写字母Q</td>
</tr>
<tr>
<td style="text-align:left">01010010</td>
<td style="text-align:left">122</td>
<td style="text-align:left">82</td>
<td style="text-align:left">52</td>
<td style="text-align:left">R</td>
<td style="text-align:left">大写字母R</td>
</tr>
<tr>
<td style="text-align:left">01010011</td>
<td style="text-align:left">123</td>
<td style="text-align:left">83</td>
<td style="text-align:left">53</td>
<td style="text-align:left">S</td>
<td style="text-align:left">大写字母S</td>
</tr>
<tr>
<td style="text-align:left">01010100</td>
<td style="text-align:left">124</td>
<td style="text-align:left">84</td>
<td style="text-align:left">54</td>
<td style="text-align:left">T</td>
<td style="text-align:left">大写字母T</td>
</tr>
<tr>
<td style="text-align:left">01010101</td>
<td style="text-align:left">125</td>
<td style="text-align:left">85</td>
<td style="text-align:left">55</td>
<td style="text-align:left">U</td>
<td style="text-align:left">大写字母U</td>
</tr>
<tr>
<td style="text-align:left">01010110</td>
<td style="text-align:left">126</td>
<td style="text-align:left">86</td>
<td style="text-align:left">56</td>
<td style="text-align:left">V</td>
<td style="text-align:left">大写字母V</td>
</tr>
<tr>
<td style="text-align:left">01010111</td>
<td style="text-align:left">127</td>
<td style="text-align:left">87</td>
<td style="text-align:left">57</td>
<td style="text-align:left">W</td>
<td style="text-align:left">大写字母W</td>
</tr>
<tr>
<td style="text-align:left">01011000</td>
<td style="text-align:left">130</td>
<td style="text-align:left">88</td>
<td style="text-align:left">58</td>
<td style="text-align:left">X</td>
<td style="text-align:left">大写字母X</td>
</tr>
<tr>
<td style="text-align:left">01011001</td>
<td style="text-align:left">131</td>
<td style="text-align:left">89</td>
<td style="text-align:left">59</td>
<td style="text-align:left">Y</td>
<td style="text-align:left">大写字母Y</td>
</tr>
<tr>
<td style="text-align:left">01011010</td>
<td style="text-align:left">132</td>
<td style="text-align:left">90</td>
<td style="text-align:left">5A</td>
<td style="text-align:left">Z</td>
<td style="text-align:left">大写字母Z</td>
</tr>
<tr>
<td style="text-align:left">01011011</td>
<td style="text-align:left">133</td>
<td style="text-align:left">91</td>
<td style="text-align:left">5B</td>
<td style="text-align:left">[</td>
<td style="text-align:left">开方括号</td>
</tr>
<tr>
<td style="text-align:left">01011100</td>
<td style="text-align:left">134</td>
<td style="text-align:left">92</td>
<td style="text-align:left">5C</td>
<td style="text-align:left">\</td>
<td style="text-align:left">反斜杠</td>
</tr>
<tr>
<td style="text-align:left">01011101</td>
<td style="text-align:left">135</td>
<td style="text-align:left">93</td>
<td style="text-align:left">5D</td>
<td style="text-align:left">]</td>
<td style="text-align:left">闭方括号</td>
</tr>
<tr>
<td style="text-align:left">01011110</td>
<td style="text-align:left">136</td>
<td style="text-align:left">94</td>
<td style="text-align:left">5E</td>
<td style="text-align:left">^</td>
<td style="text-align:left">脱字符</td>
</tr>
<tr>
<td style="text-align:left">01011111</td>
<td style="text-align:left">137</td>
<td style="text-align:left">95</td>
<td style="text-align:left">5F</td>
<td style="text-align:left">_</td>
<td style="text-align:left">下划线</td>
</tr>
<tr>
<td style="text-align:left">01100000</td>
<td style="text-align:left">140</td>
<td style="text-align:left">96</td>
<td style="text-align:left">60</td>
<td style="text-align:left">`</td>
<td style="text-align:left">开单引号</td>
</tr>
<tr>
<td style="text-align:left">01100001</td>
<td style="text-align:left">141</td>
<td style="text-align:left">97</td>
<td style="text-align:left">61</td>
<td style="text-align:left">a</td>
<td style="text-align:left">小写字母a</td>
</tr>
<tr>
<td style="text-align:left">01100010</td>
<td style="text-align:left">142</td>
<td style="text-align:left">98</td>
<td style="text-align:left">62</td>
<td style="text-align:left">b</td>
<td style="text-align:left">小写字母b</td>
</tr>
<tr>
<td style="text-align:left">01100011</td>
<td style="text-align:left">143</td>
<td style="text-align:left">99</td>
<td style="text-align:left">63</td>
<td style="text-align:left">c</td>
<td style="text-align:left">小写字母c</td>
</tr>
<tr>
<td style="text-align:left">01100100</td>
<td style="text-align:left">144</td>
<td style="text-align:left">100</td>
<td style="text-align:left">64</td>
<td style="text-align:left">d</td>
<td style="text-align:left">小写字母d</td>
</tr>
<tr>
<td style="text-align:left">01100101</td>
<td style="text-align:left">145</td>
<td style="text-align:left">101</td>
<td style="text-align:left">65</td>
<td style="text-align:left">e</td>
<td style="text-align:left">小写字母e</td>
</tr>
<tr>
<td style="text-align:left">01100110</td>
<td style="text-align:left">146</td>
<td style="text-align:left">102</td>
<td style="text-align:left">66</td>
<td style="text-align:left">f</td>
<td style="text-align:left">小写字母f</td>
</tr>
<tr>
<td style="text-align:left">01100111</td>
<td style="text-align:left">147</td>
<td style="text-align:left">103</td>
<td style="text-align:left">67</td>
<td style="text-align:left">g</td>
<td style="text-align:left">小写字母g</td>
</tr>
<tr>
<td style="text-align:left">01101000</td>
<td style="text-align:left">150</td>
<td style="text-align:left">104</td>
<td style="text-align:left">68</td>
<td style="text-align:left">h</td>
<td style="text-align:left">小写字母h</td>
</tr>
<tr>
<td style="text-align:left">01101001</td>
<td style="text-align:left">151</td>
<td style="text-align:left">105</td>
<td style="text-align:left">69</td>
<td style="text-align:left">i</td>
<td style="text-align:left">小写字母i</td>
</tr>
<tr>
<td style="text-align:left">01101010</td>
<td style="text-align:left">152</td>
<td style="text-align:left">106</td>
<td style="text-align:left">6A</td>
<td style="text-align:left">j</td>
<td style="text-align:left">小写字母j</td>
</tr>
<tr>
<td style="text-align:left">01101011</td>
<td style="text-align:left">153</td>
<td style="text-align:left">107</td>
<td style="text-align:left">6B</td>
<td style="text-align:left">k</td>
<td style="text-align:left">小写字母k</td>
</tr>
<tr>
<td style="text-align:left">01101100</td>
<td style="text-align:left">154</td>
<td style="text-align:left">108</td>
<td style="text-align:left">6C</td>
<td style="text-align:left">l</td>
<td style="text-align:left">小写字母l</td>
</tr>
<tr>
<td style="text-align:left">01101101</td>
<td style="text-align:left">155</td>
<td style="text-align:left">109</td>
<td style="text-align:left">6D</td>
<td style="text-align:left">m</td>
<td style="text-align:left">小写字母m</td>
</tr>
<tr>
<td style="text-align:left">01101110</td>
<td style="text-align:left">156</td>
<td style="text-align:left">110</td>
<td style="text-align:left">6E</td>
<td style="text-align:left">n</td>
<td style="text-align:left">小写字母n</td>
</tr>
<tr>
<td style="text-align:left">01101111</td>
<td style="text-align:left">157</td>
<td style="text-align:left">111</td>
<td style="text-align:left">6F</td>
<td style="text-align:left">o</td>
<td style="text-align:left">小写字母o</td>
</tr>
<tr>
<td style="text-align:left">01110000</td>
<td style="text-align:left">160</td>
<td style="text-align:left">112</td>
<td style="text-align:left">70</td>
<td style="text-align:left">p</td>
<td style="text-align:left">小写字母p</td>
</tr>
<tr>
<td style="text-align:left">01110001</td>
<td style="text-align:left">161</td>
<td style="text-align:left">113</td>
<td style="text-align:left">71</td>
<td style="text-align:left">q</td>
<td style="text-align:left">小写字母q</td>
</tr>
<tr>
<td style="text-align:left">01110010</td>
<td style="text-align:left">162</td>
<td style="text-align:left">114</td>
<td style="text-align:left">72</td>
<td style="text-align:left">r</td>
<td style="text-align:left">小写字母r</td>
</tr>
<tr>
<td style="text-align:left">01110011</td>
<td style="text-align:left">163</td>
<td style="text-align:left">115</td>
<td style="text-align:left">73</td>
<td style="text-align:left">s</td>
<td style="text-align:left">小写字母s</td>
</tr>
<tr>
<td style="text-align:left">01110100</td>
<td style="text-align:left">164</td>
<td style="text-align:left">116</td>
<td style="text-align:left">74</td>
<td style="text-align:left">t</td>
<td style="text-align:left">小写字母t</td>
</tr>
<tr>
<td style="text-align:left">01110101</td>
<td style="text-align:left">165</td>
<td style="text-align:left">117</td>
<td style="text-align:left">75</td>
<td style="text-align:left">u</td>
<td style="text-align:left">小写字母u</td>
</tr>
<tr>
<td style="text-align:left">01110110</td>
<td style="text-align:left">166</td>
<td style="text-align:left">118</td>
<td style="text-align:left">76</td>
<td style="text-align:left">v</td>
<td style="text-align:left">小写字母v</td>
</tr>
<tr>
<td style="text-align:left">01110111</td>
<td style="text-align:left">167</td>
<td style="text-align:left">119</td>
<td style="text-align:left">77</td>
<td style="text-align:left">w</td>
<td style="text-align:left">小写字母w</td>
</tr>
<tr>
<td style="text-align:left">01111000</td>
<td style="text-align:left">170</td>
<td style="text-align:left">120</td>
<td style="text-align:left">78</td>
<td style="text-align:left">x</td>
<td style="text-align:left">小写字母x</td>
</tr>
<tr>
<td style="text-align:left">01111001</td>
<td style="text-align:left">171</td>
<td style="text-align:left">121</td>
<td style="text-align:left">79</td>
<td style="text-align:left">y</td>
<td style="text-align:left">小写字母y</td>
</tr>
<tr>
<td style="text-align:left">01111010</td>
<td style="text-align:left">172</td>
<td style="text-align:left">122</td>
<td style="text-align:left">7A</td>
<td style="text-align:left">z</td>
<td style="text-align:left">小写字母z</td>
</tr>
<tr>
<td style="text-align:left">01111011</td>
<td style="text-align:left">173</td>
<td style="text-align:left">123</td>
<td style="text-align:left">7B</td>
<td style="text-align:left">{</td>
<td style="text-align:left">开花括号</td>
</tr>
<tr>
<td style="text-align:left">01111100</td>
<td style="text-align:left">174</td>
<td style="text-align:left">124</td>
<td style="text-align:left">7C</td>
<td style="text-align:left">\</td>
<td style="text-align:left"></td>
<td>垂线</td>
</tr>
<tr>
<td style="text-align:left">01111101</td>
<td style="text-align:left">175</td>
<td style="text-align:left">125</td>
<td style="text-align:left">7D</td>
<td style="text-align:left">}</td>
<td style="text-align:left">闭花括号</td>
</tr>
<tr>
<td style="text-align:left">01111110</td>
<td style="text-align:left">176</td>
<td style="text-align:left">126</td>
<td style="text-align:left">7E</td>
<td style="text-align:left">~</td>
<td style="text-align:left">波浪号</td>
</tr>
<tr>
<td style="text-align:left">01111111</td>
<td style="text-align:left">177</td>
<td style="text-align:left">127</td>
<td style="text-align:left">7F</td>
<td style="text-align:left">DEL (delete)</td>
<td style="text-align:left">删除</td>
</tr>
</tbody>
</table>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="https://blog.csdn.net/darxin/article/details/5079242" target="_blank" rel="noopener">https://blog.csdn.net/darxin/article/details/5079242</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/03/java/java_common/java-basic-type/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Victor">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Victor的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/03/java/java_common/java-basic-type/" itemprop="url">java基本数据类型</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-03T07:21:33+08:00">
                2018-07-03
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/07/03/java/java_common/java-basic-type/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/07/03/java/java_common/java-basic-type/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/07/03/java/java_common/java-basic-type/" class="leancloud_visitors" data-flag-title="java基本数据类型">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p>Java语言提供了八种基本类型。六种数字类型（四个整数型，两个浮点型），一种字符类型，还有一种布尔型。</p>
<h2 id="byte："><a href="#byte：" class="headerlink" title="byte："></a>byte：</h2><p>byte 数据类型是8位、有符号的，以二进制补码表示的整数；<br>最小值是 -128（-2^7）；<br>最大值是 127（2^7-1）；<br>默认值是 0；<br>byte 类型用在大型数组中节约空间，主要代替整数，因为 byte 变量占用的空间只有 int 类型的四分之一；<br>例子：byte a = 100，byte b = -50。</p>
<h2 id="short："><a href="#short：" class="headerlink" title="short："></a>short：</h2><p>short 数据类型是 16 位、有符号的以二进制补码表示的整数<br>最小值是 -32768（-2^15）；<br>最大值是 32767（2^15 - 1）；<br>Short 数据类型也可以像 byte 那样节省空间。一个short变量是int型变量所占空间的二分之一；<br>默认值是 0；<br>例子：short s = 1000，short r = -20000。</p>
<h2 id="int："><a href="#int：" class="headerlink" title="int："></a>int：</h2><p>int 数据类型是32位、有符号的以二进制补码表示的整数；<br>最小值是 -2,147,483,648（-2^31）；<br>最大值是 2,147,483,647（2^31 - 1）；<br>一般地整型变量默认为 int 类型；<br>默认值是 0 ；<br>例子：int a = 100000, int b = -200000。</p>
<h2 id="long："><a href="#long：" class="headerlink" title="long："></a>long：</h2><p>long 数据类型是 64 位、有符号的以二进制补码表示的整数；<br>最小值是 -9,223,372,036,854,775,808（-2^63）；<br>最大值是 9,223,372,036,854,775,807（2^63 -1）；<br>这种类型主要使用在需要比较大整数的系统上；<br>默认值是 0L；<br>例子： long a = 100000L，Long b = -200000L。<br>“L”理论上不分大小写，但是若写成”l”容易与数字”1”混淆，不容易分辩。所以最好大写。</p>
<h2 id="float："><a href="#float：" class="headerlink" title="float："></a>float：</h2><p>float 数据类型是单精度、32位、符合IEEE 754标准的浮点数；<br>float 在储存大型浮点数组的时候可节省内存空间；<br>默认值是 0.0f；<br>浮点数不能用来表示精确的值，如货币；<br>例子：float f1 = 234.5f。</p>
<h2 id="double："><a href="#double：" class="headerlink" title="double："></a>double：</h2><p>double 数据类型是双精度、64 位、符合IEEE 754标准的浮点数；<br>浮点数的默认类型为double类型；<br>double类型同样不能表示精确的值，如货币；<br>默认值是 0.0d；<br>例子：double d1 = 123.4。</p>
<h2 id="boolean："><a href="#boolean：" class="headerlink" title="boolean："></a>boolean：</h2><p>boolean数据类型表示一位的信息；<br>只有两个取值：true 和 false；<br>这种类型只作为一种标志来记录 true/false 情况；<br>默认值是 false；<br>例子：boolean one = true。<br>char：</p>
<h2 id="char类型是一个单一的-16-位-Unicode-字符；"><a href="#char类型是一个单一的-16-位-Unicode-字符；" class="headerlink" title="char类型是一个单一的 16 位 Unicode 字符；"></a>char类型是一个单一的 16 位 Unicode 字符；</h2><p>最小值是 \u0000（即为0）；<br>最大值是 \uffff（即为65,535）；<br>char 数据类型可以储存任何字符；<br>例子：char letter = ‘A’;。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/27/linux-socket/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Victor">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Victor的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/27/linux-socket/" itemprop="url">linux-socket挥手</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-27T05:58:36+08:00">
                2018-06-27
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/06/27/linux-socket/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/06/27/linux-socket/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/06/27/linux-socket/" class="leancloud_visitors" data-flag-title="linux-socket挥手">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Socket是什么"><a href="#Socket是什么" class="headerlink" title="Socket是什么"></a>Socket是什么</h1><p>socket起源于Unix，而Unix/Linux基本哲学之一就是“一切皆文件”，都可以用“打开open –&gt; 读写write/read –&gt; 关闭close”模式来操作。Socket就是该模式的一个实现，        socket即是一种特殊的文件，一些socket函数就是对其进行的操作（读/写IO、打开、关闭）.     说白了Socket是应用层与TCP/IP协议族通信的中间软件抽象层，它是一组接口。在设计模式中，Socket其实就是一个门面模式，它把复杂的TCP/IP协议族隐藏在Socket接口后面，对用户来说，一组简单的接口就是全部，让Socket去组织数据，以符合指定的协议。</p>
<p><em>注意：其实socket也没有层的概念，它只是一个facade设计模式的应用，让编程变的更简单。是一个软件抽象层。在网络编程中，我们大量用的都是通过socket实现的。</em></p>
<h1 id="四次挥手流程"><a href="#四次挥手流程" class="headerlink" title="四次挥手流程"></a>四次挥手流程</h1><p>连接正常关闭时双方会发送FIN，经历4次挥手过程</p>
<p>java中，调用Socket#close()可以关闭Socket，该方法类似Unix网络编程中的close方法，将Socket的 读写 都关闭，已经排队等待发送的数据会被尝试发送，最后（默认）发送FIN。考虑一个典型的网络事务，A向B发送数据，A发送完毕后close()，FIN发送出去；B一直read直到返回了-1，也通过close()发送FIN，4次挥手，连接关闭，一切都很和谐。</p>
<h2 id="服务端发起流程"><a href="#服务端发起流程" class="headerlink" title="服务端发起流程"></a>服务端发起流程</h2><h3 id="1-服务端发起关闭"><a href="#1-服务端发起关闭" class="headerlink" title="1.服务端发起关闭"></a>1.服务端发起关闭</h3><p><img src="/images/pasted-194.png" alt="upload successful"></p>
<h3 id="2-中间状态"><a href="#2-中间状态" class="headerlink" title="2.中间状态"></a>2.中间状态</h3><p>客户端socket为close_waite状态<br>服务端socket释放</p>
<p><img src="/images/pasted-196.png" alt="upload successful"></p>
<h3 id="3-客户端关闭"><a href="#3-客户端关闭" class="headerlink" title="3.客户端关闭"></a>3.客户端关闭</h3><p><img src="/images/pasted-195.png" alt="upload successful"></p>
<h2 id="客户端发起流程"><a href="#客户端发起流程" class="headerlink" title="客户端发起流程"></a>客户端发起流程</h2><h3 id="1-客户端发起关闭"><a href="#1-客户端发起关闭" class="headerlink" title="1.客户端发起关闭"></a>1.客户端发起关闭</h3><p><img src="/images/pasted-197.png" alt="upload successful"></p>
<h3 id="2-中间状态-1"><a href="#2-中间状态-1" class="headerlink" title="2.中间状态"></a>2.中间状态</h3><p>服务端socket为close_waite状态<br>客户端socket释放</p>
<p><img src="/images/pasted-198.png" alt="upload successful"></p>
<h3 id="3-服务端关闭"><a href="#3-服务端关闭" class="headerlink" title="3.服务端关闭"></a>3.服务端关闭</h3><p><img src="/images/pasted-199.png" alt="upload successful"></p>
<h1 id="RST关闭流程-一次通讯"><a href="#RST关闭流程-一次通讯" class="headerlink" title="RST关闭流程(一次通讯)"></a>RST关闭流程(一次通讯)</h1><p>通过RST包异常退出，此时会丢弃缓冲区内的数据，也不会对RST响应ACK。</p>
<ul>
<li>Socket#setSoLinger(true,0)，则close时会发送RST</li>
<li>如果主动关闭方缓冲区还有数据没有被应用层消费掉，close会发送RST并忽略这些数据</li>
<li>A向B发送数据，B已经通过close()方法关闭了Socket，虽然TCP规定半关闭状态下B仍然可以接收数据，但close动作关闭了该socket上的任何数据操作，如果此时A继续write，B将返回RST，A的该次write无法立即通知应用层（因为write仅把数据写入发送缓冲区），只会把状态保存在tcp协议栈内，下次write时才会抛出SocketException。</li>
</ul>
<p>无论是客户端还是服务端的socket均可以设置soLinger参数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socket.setSoLinger(true, 0);</span><br></pre></td></tr></table></figure></p>
<h2 id="服务端发起"><a href="#服务端发起" class="headerlink" title="服务端发起"></a>服务端发起</h2><h3 id="1-服务端发起关闭-1"><a href="#1-服务端发起关闭-1" class="headerlink" title="1.服务端发起关闭"></a>1.服务端发起关闭</h3><p><img src="/images/pasted-200.png" alt="upload successful"></p>
<h3 id="2-客户端状态"><a href="#2-客户端状态" class="headerlink" title="2. 客户端状态"></a>2. 客户端状态</h3><p><img src="/images/pasted-201.png" alt="upload successful"></p>
<h2 id="客户端发起"><a href="#客户端发起" class="headerlink" title="客户端发起"></a>客户端发起</h2><h3 id="客户端发起关闭"><a href="#客户端发起关闭" class="headerlink" title="客户端发起关闭"></a>客户端发起关闭</h3><p><img src="/images/pasted-202.png" alt="upload successful"></p>
<h3 id="2-服务端状态"><a href="#2-服务端状态" class="headerlink" title="2. 服务端状态"></a>2. 服务端状态</h3><p><img src="/images/pasted-203.png" alt="upload successful"></p>
<h1 id="对已关闭socket读写会产生的异常"><a href="#对已关闭socket读写会产生的异常" class="headerlink" title="对已关闭socket读写会产生的异常"></a>对已关闭socket读写会产生的异常</h1><h2 id="主动关闭方"><a href="#主动关闭方" class="headerlink" title="主动关闭方"></a>主动关闭方</h2><p>close()后，无论是发送FIN/RST关闭的，之后再读写均会抛java.net.SocketException:socket is closed.</p>
<h2 id="被动关闭方"><a href="#被动关闭方" class="headerlink" title="被动关闭方"></a>被动关闭方</h2><h3 id="被FIN关闭"><a href="#被FIN关闭" class="headerlink" title="被FIN关闭"></a>被FIN关闭</h3><p>写（即向”已被对方关闭的Socket”写）<br>如上所说，第一次write得到RST响应但不抛异常，第二次write抛异常，ubuntu下是broken pipe (断开的管道)，win7下是Software caused connection abort: socket write error</p>
<p>读 – 始终返回 -1</p>
<h3 id="被RST关闭"><a href="#被RST关闭" class="headerlink" title="被RST关闭"></a>被RST关闭</h3><p>读写都会抛出异常：connection reset (by peer)</p>
<h3 id="重点在于："><a href="#重点在于：" class="headerlink" title="重点在于："></a>重点在于：</h3><p>connection reset：另一端用RST主动关闭连接</p>
<p>broken pipe / Software caused connection abort: socket write error ： 对方已调用Socket#close()关闭连接，己方还在写数据</p>
<p>java中网络编程时很大一部分代码在做各种fail时的处理，了解各种异常发生时背后的逻辑才能正确地处理之。以上列举的只是连接关闭的异常，还有其他各种异常没有提及，以后有机会再补上。</p>
<h1 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h1><p>之所以由本篇文章中,是因为在工作中用到了okhttpClient,其理念就是尽可能复用之前socket连接,并通过后台线程回收空闲的socket连接,然而对于客户端意外关闭,似乎没有处理,经过试验发现,其socket的关闭方式正是rst方式.</p>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>通过socket代码打断点,未发现okhttpClient 进行设置了setSoLinger</p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="http://novoland.github.io/%E7%BD%91%E7%BB%9C/2014/07/26/RST%E5%8F%8Ajava%20socket%E5%85%B3%E9%97%AD%E5%90%8E%E8%AF%BB%E5%86%99%E7%9A%84%E5%90%84%E7%A7%8D%E5%BC%82%E5%B8%B8.html" target="_blank" rel="noopener">http://novoland.github.io/%E7%BD%91%E7%BB%9C/2014/07/26/RST%E5%8F%8Ajava%20socket%E5%85%B3%E9%97%AD%E5%90%8E%E8%AF%BB%E5%86%99%E7%9A%84%E5%90%84%E7%A7%8D%E5%BC%82%E5%B8%B8.html</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/20/">20</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Victor</p>
              <p class="site-description motion-element" itemprop="description">victor的个人博客,作为一枚后端开发工程师,写本博客目的,旨在记录自己在工作生活中的点点滴滴,形成自己的知识体系</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">197</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">27</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">77</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2017 &mdash; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Victor</span>
  
  <!--以下3行为一条竖线和Coding Page-->
  <div class="powered-by">
  </div>
  <span>Hosted by <a href="https://pages.coding.me" style="font-weight: bold">Coding Pages</a></span>
  
  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  

    
      <script id="dsq-count-scr" src="https://victor123-cn.disqus.com/count.js" async></script>
    

    

  




	





  














  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("QdvsGi5rrGt05B6T1cP9buCX-gzGzoHsz", "IPzdnLkdvxDPxh2zyHn82bWk");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  

  

  

</body>
</html>
